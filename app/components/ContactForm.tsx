'use client'
import React, { useState } from 'react'
export default function ContactForm(){ const [f,setF]=useState({name:'',phone:'',service:'',message:''}); const [ok,setOk]=useState<string|null>(null)
 const ch=(e:any)=>setF({...f,[e.target.name]:e.target.value})
 const submit=async(e:any)=>{e.preventDefault(); setOk(null); try{ const res=await fetch('/api/submit',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({type:'contact',fields:f})}); const data=await res.json(); if(res.ok) setOk('Спасибо, заявка отправлена'); else setOk('Ошибка'); }catch(err){setOk('Ошибка сети')} setF({name:'',phone:'',service:'',message:''}) }
 return (<form onSubmit={submit} className="space-y-3"><input name="name" value={f.name} onChange={ch} placeholder="Имя" className="w-full p-3 rounded bg-neutral-900" required /><input name="phone" value={f.phone} onChange={ch} placeholder="Телефон" className="w-full p-3 rounded bg-neutral-900" required /><select name="service" value={f.service} onChange={ch} className="w-full p-3 rounded bg-neutral-900"><option value="">Услуга</option><option>Бизнес-трансфер</option><option>Аэропорт</option></select><textarea name="message" value={f.message} onChange={ch} placeholder="Сообщение" className="w-full p-3 rounded bg-neutral-900" /><div className="flex gap-3"><button className="btn btn-primary" type="submit">Отправить</button></div>{ok && <p className="text-sm text-green-400">{ok}</p>}</form>)}
